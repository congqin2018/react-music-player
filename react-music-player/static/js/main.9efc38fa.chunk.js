(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,n,t){e.exports=t(287)},149:function(e,n,t){},287:function(e,n,t){"use strict";t.r(n);var a,r=t(0),o=t.n(r),i=t(16),l=t.n(i),c=t(17),s=t(33),u=t(52),p=t(139),d=t.n(p),g=(t(149),t(19)),m=t(20),h=t(22),f=t(21),y=t(23),v=t(137),E=t.n(v),S=t(138),b=t.n(S),k="mediaSession"in navigator;k&&(navigator.mediaSession.setActionHandler("previoustrack",function(){if(a){var e=a.getState(),n=0===e.playState.songId?e.songs.length-1:e.playState.songId-1;a.dispatch(N(n))}}),navigator.mediaSession.setActionHandler("nexttrack",function(){if(a){var e=a.getState(),n=(e.playState.songId+1)%e.songs.length;a.dispatch(N(n))}}),navigator.mediaSession.setActionHandler("play",function(){a&&a.dispatch(C())}),navigator.mediaSession.setActionHandler("pause",function(){a&&a.dispatch(C())}));var O=function(e){a=e},w=function(e){k&&function(e){var n=a.getState();navigator.mediaSession.metadata=new window.MediaMetadata({title:n.songs[e]?n.songs[e].name:"unkown",artist:"Unknown",album:"Unknown Albumn",artwork:[{src:"icons/mipmap-xhdpi/ic_launcher.png",sizes:"96x96",type:"image/png"},{src:"icons/mipmap-xxhdpi/ic_launcher.png",sizes:"144x144",type:"image/png"},{src:"icons/mipmap-xxxhdpi/ic_launcher.png",sizes:"192x192",type:"image/png"},{src:"icons/playstore/icon.png",sizes:"512x512",type:"image/png"}]})}(e)},P="PLAYLIST_PAGE",j="SEARCH_PAGE",T="SETTINGS_PAGE",R="NOW_PLAYING_PAGE",A=function(e){return{type:"ADD_SONGS",songs:e.map(function(e){return{source:"local",detail:e}})}},I=function(e){return{type:"ADD_SONGS",songs:[{source:"network",detail:e}]}},N=function(e){return w(e),{type:"PLAY_SONG",id:e}},C=function(){return{type:"TOGGLE_PLAYING"}},x=function(){return{type:R}},L=t(27),D=t(116),G=t.n(D),M=t(117),_=t.n(M),U=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).addSong=function(e){(0,t.props.addSongs)(Array.from(e.currentTarget.files))},t}return Object(y.a)(n,e),Object(m.a)(n,[{key:"render",value:function(){return o.a.createElement(G.a,{color:"primary","aria-label":"Add",component:"label",htmlFor:"song-input",style:{position:"fixed",bottom:"110px",right:"25px",zIndex:3e3}},o.a.createElement("input",{style:{display:"none"},id:"song-input",onChange:this.addSong,type:"file",multiple:!0,accept:"audio/mp3"}),o.a.createElement(_.a,null))}}]),n}(r.Component),B=Object(c.b)(null,function(e){return{addSongs:function(n){return e(A(n))}}})(U),H=t(86),W=t(39),F=t(67),V=t.n(F),Y=t(51),z=t.n(Y),K=t(80),q=t.n(K),J=t(81),X=t.n(J),$=t(25),Q=t.n($),Z=t(31),ee=t.n(Z),ne=t(77),te=t.n(ne),ae=t(42),re=t.n(ae),oe=t(78),ie=t.n(oe),le=t(49),ce=t.n(le),se=t(79),ue=t.n(se),pe=t(50),de=t.n(pe),ge=function(e){var n=e.song,t=e.handleClick,a=e.handleIconClick;return o.a.createElement(ee.a,{className:"song",onClick:t},o.a.createElement(te.a,null,o.a.createElement(ce.a,null,o.a.createElement(de.a,null))),o.a.createElement(re.a,{primary:n.detail.name,secondary:"network"==n.source?"".concat(n.detail.artists[0].name," - ").concat(n.detail.album.name):"local",secondaryTypographyProps:{noWrap:!0}}),o.a.createElement(ie.a,{onClick:a},o.a.createElement(Q.a,{"aria-label":"Delete"},o.a.createElement(ue.a,null))))},me=Object(W.a)(null,{remove:function(e){return{type:"REMOVE_SONGS",id:e}},play:N})(function(e){var n=e.songs,t=e.remove,a=e.play,i=Object(r.useState)(null),l=Object(H.a)(i,2),c=l[0],s=l[1],u=Object(r.useState)(-1),p=Object(H.a)(u,2),d=p[0],g=p[1],m=function(e){return function(n){var t=n.target;s(t),g(e)}},h=function(e){return function(){return a(e)}};return n.length?o.a.createElement("div",{style:{marginBottom:"100px"}},o.a.createElement(q.a,{id:"simple-menu",anchorEl:c,open:Boolean(c),onClose:function(){return s(null)}},o.a.createElement(X.a,{onClick:function(){return t(d)}},"Remove Song")),o.a.createElement(z.a,null,n.map(function(e,n){return[o.a.createElement(ge,{key:"song-".concat(e.lastModifiedDate),handleClick:h(n),handleIconClick:m(n),song:e}),o.a.createElement(V.a,{key:"divider-".concat(e.lastModifiedDate)})]}))):o.a.createElement("h4",{style:{fontWeight:300,textAlign:"center"}},"No Songs Present. Please Add Songs")}),he=t(118),fe=t.n(he),ye=t(28),ve=t.n(ye),Ee=t(119),Se=t.n(Ee),be=t(68),ke=t.n(be),Oe=function(e){var n=e.playState,t=e.playingSong,a=e.currentTime,r=e.togglePlaying,i=e.openNowPlaying;return o.a.createElement(ve.a,{className:"small-now-playing",onClick:function(e){!e.target.closest('[type="button"]')&&t&&i()}},o.a.createElement(fe.a,{variant:"determinate",value:a}),o.a.createElement("div",{className:"now-playing-container"},o.a.createElement(ce.a,null,o.a.createElement(de.a,null)),o.a.createElement("div",{className:"song-name"},t&&t.detail?t.detail.name:"[No song]"),o.a.createElement("button",{type:"button",onClick:r},n.playing?o.a.createElement(Se.a,null):o.a.createElement(ke.a,null))))};Oe.defaultProps={playingSong:null};var we=Oe,Pe=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).handleDragOver=function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},t}return Object(y.a)(n,e),Object(m.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.songs,a=n.playState,r=n.openNowPlaying,i=n.openSnackbar,l=n.currentTime,c=n.addSongs,s=n.toggle;return o.a.createElement("div",{onDragOver:this.handleDragOver,onDrop:function(n){if(e.handleDragOver(n),window.File&&window.FileReader&&window.FileList&&window.Blob){var t=Object(L.a)(n.dataTransfer.files).filter(function(e){var n=e.name;return n&&n.endsWith(".mp3")});t.length>0&&c(t)}else i("The File APIs are not fully supported in this browser.");return!1}},o.a.createElement(me,{songs:t}),o.a.createElement(B,null),o.a.createElement(we,{togglePlaying:s,playState:a,playingSong:t[a.songId],openNowPlaying:r,currentTime:l}))}}]),n}(r.Component),je=Object(c.b)(null,function(e){return{toggle:function(){return e(C())},openNowPlaying:function(){return e(x())},addSongs:function(n){return e(A(n))}}})(Pe),Te=function(e){var n=e.item,t=e.handleClick;return o.a.createElement(ee.a,{className:"song",onClick:t},o.a.createElement(re.a,{primary:n.name,secondary:"".concat(n.artists[0].name," - ").concat(n.album.name),secondaryTypographyProps:{noWrap:!0}}))},Re=Object(W.a)(null,{play:function(e){return function(n,t){return fetch("https://cors-anywhere.herokuapp.com/https://api.muxiv.com/music/url?id=".concat(e.id,"&lang=en#")).then(function(e){return e.json()}).then(function(n){return e.url=n[0].url,e}).then(function(e){return n(I(e))}).then(function(){return n(N(-2))})}}})(function(e){var n=e.searchResult,t=e.play,a=function(e){return function(){return t(n[e])}};return n.length?o.a.createElement("div",{style:{marginBottom:"100px"}},o.a.createElement(z.a,null,n.map(function(e,n){return[o.a.createElement(Te,{key:"search-item-".concat(e.id),handleClick:a(n),item:e}),o.a.createElement(V.a,{key:"divider-".concat(e.id)})]}))):o.a.createElement("h4",{style:{fontWeight:300,textAlign:"center"}},"No songs. Please search Songs")}),Ae=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).handleDragOver=function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},t}return Object(y.a)(n,e),Object(m.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.searchResult,a=n.playState,r=n.openNowPlaying,i=n.openSnackbar,l=n.currentTime,c=n.addSongs,s=n.toggle;return o.a.createElement("div",{onDragOver:this.handleDragOver,onDrop:function(n){if(e.handleDragOver(n),window.File&&window.FileReader&&window.FileList&&window.Blob){var t=Object(L.a)(n.dataTransfer.files).filter(function(e){var n=e.name;return n&&n.endsWith(".mp3")});t.length>0&&c(t)}else i("The File APIs are not fully supported in this browser.");return!1}},o.a.createElement(Re,{searchResult:t}),o.a.createElement(B,null),o.a.createElement(we,{togglePlaying:s,playState:a,playingSong:t[a.songId],openNowPlaying:r,currentTime:l}))}}]),n}(r.Component),Ie=Object(c.b)(null,function(e){return{toggle:function(){return e(C())},openNowPlaying:function(){return e(x())},addSongs:function(n){return e(I(n))}}})(Ae),Ne=t(30),Ce=t(123),xe=t.n(Ce),Le=t(128),De=t.n(Le),Ge=t(127),Me=t.n(Ge),_e=t(124),Ue=t.n(_e),Be=t(63),He=t.n(Be),We=t(82),Fe=t.n(We),Ve=t(126),Ye=t.n(Ve),ze=t(125),Ke=t.n(ze),qe=t(120),Je=t.n(qe),Xe=t(121),$e=t.n(Xe),Qe=t(122),Ze=t.n(Qe),en=t(18),nn=[{option:"Search",page:j,icon:o.a.createElement(Fe.a,null)},{option:"NowPlaying",page:R,icon:o.a.createElement(Je.a,null)},{option:"Playlists",page:P,icon:o.a.createElement($e.a,null)},{option:"Settings",page:T,icon:o.a.createElement(Ze.a,null)}],tn=function(e){function n(e){var t;Object(g.a)(this,n),(t=Object(h.a)(this,Object(f.a)(n).call(this,e))).state={open:!1},t.openPage=function(e){return function(){var n=t.props,a=n.openPage,r=n.playState,o=n.openSnackbar;t.setState(function(e){return{open:!e.open}}),e!==T?(r||e!==R)&&e&&a(e):o()}},t.handleSearchClick=function(){(0,t.props.onSearch)(t.state.keyword)},t.handleInputChange=function(e){t.setState({keyword:e.target.value})};var a=e.classes;return t.classes=a,t.state={keyword:""},t}return Object(y.a)(n,e),Object(m.a)(n,[{key:"render",value:function(){var e=this,n=this.state.open;return o.a.createElement("div",null,o.a.createElement(xe.a,null,o.a.createElement(Ue.a,null,o.a.createElement(Q.a,{onClick:this.openPage(),color:"inherit","aria-label":"Menu"},o.a.createElement(Ke.a,null)),o.a.createElement(He.a,{variant:"h6",color:"inherit",className:this.classes.title},"Music Player"),o.a.createElement("div",{className:this.classes.grow}),o.a.createElement("div",{className:this.classes.search},o.a.createElement(Ye.a,{placeholder:"Search\u2026",className:this.classes.inputInput,onChange:this.handleInputChange}),o.a.createElement(Q.a,{color:"inherit",className:this.classes.searchIcon,onClick:this.handleSearchClick},o.a.createElement(Fe.a,null))))),o.a.createElement("div",{className:"header-padding",style:{height:"55px"}}),o.a.createElement(Me.a,{anchor:"left",open:n,onClose:this.openPage(),onOpen:this.openPage()},o.a.createElement("div",{style:{paddingTop:"50px"}}),nn.map(function(n){return o.a.createElement(ee.a,{key:n.option,button:!0,onClick:e.openPage(n.page)},o.a.createElement(De.a,null,n.icon),o.a.createElement(re.a,null,n.option))})))}}]),n}(r.Component),an=Object(c.b)(null,function(e){return{openPage:function(n){return e({type:n})}}})(Object(u.withStyles)(function(e){return{grow:{flexGrow:1},title:Object(Ne.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(Ne.a)({display:"flex",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(en.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(en.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),inputInput:{flexGrow:1,color:"inherit"}}})(tn)),rn=t(136),on=t.n(rn),ln=t(129),cn=t.n(ln),sn=t(132),un=t.n(sn),pn=t(133),dn=t.n(pn),gn=t(134),mn=t.n(gn),hn=t(135),fn=t.n(hn),yn=t(131),vn=t.n(yn),En=t(130),Sn=t.n(En),bn=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).changeRepeat=function(){var e=t.props,n=e.repeatType;(0,e.changeRepeat)(2===n?0:n+1)},t}return Object(y.a)(n,e),Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.installEvent;setTimeout(function(){return"function"===typeof e&&e()},3e3)}},{key:"render",value:function(){var e=this.props,n=e.playState,t=e.song,a=e.playNext,r=e.playPrevious,i=e.currentTime,l=e.repeatType,c=e.togglePlaying,s=e.timeDrag,u=e.openSnackbar;return o.a.createElement(ve.a,{className:"play-control"},o.a.createElement("h3",{className:"song-title"},t.name),o.a.createElement(cn.a,{style:{height:"2px"},className:"song-progress",value:i,onChange:function(e,n){return s(n)},max:100,min:0,defaultValue:2}),o.a.createElement("div",{className:"now-playing-container"},o.a.createElement("div",{style:{width:"35%",textAlign:"center"},className:"side-icons"},o.a.createElement(Q.a,{onClick:this.changeRepeat},1===l?o.a.createElement(Sn.a,null):o.a.createElement(vn.a,{style:2===l?{}:{opacity:.5}})),o.a.createElement(Q.a,{onClick:r},o.a.createElement(un.a,null))),o.a.createElement("div",{style:{width:"30%",textAlign:"center"},className:"play-pause-button"},o.a.createElement(Q.a,{onClick:c},n.playing?o.a.createElement(dn.a,null):o.a.createElement(ke.a,null))),o.a.createElement("div",{style:{width:"35%",textAlign:"center"},className:"side-icons"},o.a.createElement(Q.a,{onClick:a},o.a.createElement(mn.a,null)),o.a.createElement(fn.a,{className:"material-icons",style:{color:"rgba(0, 0, 0, 0.3)"},onClick:function(){return u("Shuffle doesn't work yet, You can make a PR \ud83d\ude0a")}}))))}}]),n}(r.Component);bn.defaultProps={installEvent:null};var kn=Object(c.b)(function(e){return{playState:e.playState,repeatType:e.common.repeat}},function(e){return{changeRepeat:function(n){return e(function(e){return{type:"REPEAT",id:e}}(n))},togglePlaying:function(){return e(C())}}})(bn),On=function(e){var n=e.playNext,t=e.timeDrag,a=e.repeatType,r=e.currentTime,i=e.playingSong,l=e.openSnackbar,c=e.playPrevious,s=e.installEvent;return o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"30px"}},o.a.createElement(on.a,{style:{width:"300px",fontSize:"300px",color:"rgba(0,0,0,0.3)"}})),o.a.createElement(kn,{song:i,playNext:n,timeDrag:t,repeatType:a,installEvent:s,currentTime:r,openSnackbar:l,playPrevious:c}))};On.defaultProps={installEvent:function(){}};var wn=On,Pn=["ARROWLEFT","ARROWRIGHT","SPACE"];var jn=function(e){function n(e){var t;return Object(g.a)(this,n),(t=Object(h.a)(this,Object(f.a)(n).call(this,e))).playNext=function(){var e=t.props,n=e.songs,a=e.playState,r=e.playSong;URL.revokeObjectURL(n[a.songId]),r((a.songId+1)%n.length)},t.songEnded=function(){var e=t.props,n=e.songs,a=e.playState,r=e.repeatType,o=e.playSong;0===r?(URL.revokeObjectURL(n[a.songId]),a.songId<n.length-1&&o(a.songId+1)):1===r?o(a.songId):t.playNext()},t.playPrevious=function(){var e=t.props,n=e.songs,a=e.playState,r=e.playSong;URL.revokeObjectURL(n[a.songId]),r(0===a.songId?n.length-1:a.songId-1)},t.updateTime=function(){var e=100*t.audioPlayer.currentTime/t.audioPlayer.duration||0;t.setState({currentTime:e})},t.playSong=function(e){var n=t.props.songs;if(n[e]){var a="local"===n[e].source?URL.createObjectURL(n[e].detail):n[e].detail.url;t.audioPlayer.src=a,t.audioPlayer.play(),window.document.title=n[e].detail.name.replace(".mp3","")}},t.timeDrag=function(e){t.audioPlayer.currentTime=t.audioPlayer.duration*(e/100)},t.handleActionClick=function(){window.open("https://github.com/ashinzekene/react-music-player","_blank")},t.handleRequestClose=function(){t.setState({snackBarOpen:!1,snackMsg:"",hideSnackAction:!1})},t.handleSearch=function(e){(0,t.props.searchSong)(e)},t.renderMain=function(e){var n=t.state,a=n.currentTime,r=(n.snackBarOpen,n.snackMsg,n.installEvent),i=(n.addToHomeScreenUIVisible,n.hideSnackAction,t.props),l=i.searchResult,c=i.songs,s=i.playState,u=i.toggle,p=i.repeatType;i.page;switch(e){case j:return o.a.createElement(Ie,{searchResult:l,toggle:u,playState:s,currentTime:a,openSnackbar:function(e){return t.setState({snackBarOpen:!0,snackMsg:e})}});case P:return o.a.createElement(je,{songs:c,toggle:u,playState:s,currentTime:a,openSnackbar:function(e){return t.setState({snackBarOpen:!0,snackMsg:e})}});case R:return o.a.createElement(wn,{repeatType:p,playNext:t.playNext,timeDrag:t.timeDrag,installEvent:r,currentTime:a,playPrevious:t.playPrevious,playingSong:c[s.songId],openSnackbar:function(e){return t.setState({snackBarOpen:!0,snackMsg:e})}});default:return o.a.createElement(je,{songs:c,toggle:u,playState:s,currentTime:a,openSnackbar:function(e){return t.setState({snackBarOpen:!0,snackMsg:e})}})}},t.state={currentTime:0,snackBarOpen:!1,hasRejectedInstall:!1,snackMsg:"",hideSnackAction:!1,installEvent:null,addToHomeScreenUIVisible:!1},t}return Object(y.a)(n,e),Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=this.props,t=n.songs,a=n.toggle;t[0]&&("local"===t[0].source?this.audioPlayer.src=URL.createObjectURL(t[0].detail):this.audioPlayer.src=t[0].detail.url),this.releaseKeyboardEvents=function(e){var n=function(n){var t=n.code.toUpperCase();if(-1!==Pn.indexOf(t)){var a=e.playNext,r=e.playPrevious,o=e.togglePlaying;switch(t){case"ARROWLEFT":r();break;case"ARROWRIGHT":a();break;case"SPACE":o()}}};return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}({playNext:this.playNext,playPrevious:this.playPrevious,togglePlaying:a}),window.addEventListener("beforeinstallprompt",function(n){n.preventDefault(),e.setState({installEvent:n,addToHomeScreenUIVisible:!0})})}},{key:"componentWillReceiveProps",value:function(e){var n=this,t=this.props.playState,a=e.songs,r=this.state,o=r.installEvent,i=r.hasRejectedInstall;e.playState!==t&&(e.playState.playing?-2===e.playState.songId?this.playSong(a.length-1):-1===e.playState.songId?this.playSong(0):e.playState.songId===t.songId?(console.log("Should only resume"),this.audioPlayer.play()):this.playSong(e.playState.songId):this.audioPlayer.pause(),o&&!i&&(o.prompt(),o.userChoice.then(function(e){"accepted"===e.outcome?n.setState({snackBarOpen:!0,hideSnackAction:!0,hasRejectedInstall:!1,snackMsg:"\ud83e\udd17 Yay! You've installed the app"}):n.setState({snackBarOpen:!0,hideSnackAction:!0,hasRejectedInstall:!0,snackMsg:"\ud83d\ude25 Reload the page whenever you change your mind"}),n.snackBarOpen({installEvent:null})})))}},{key:"componentWillUnmount",value:function(){this.releaseKeyboardEvents()}},{key:"render",value:function(){var e=this,n=this.state,t=(n.currentTime,n.snackBarOpen),a=n.snackMsg,r=(n.installEvent,n.addToHomeScreenUIVisible),i=n.hideSnackAction,l=this.props,c=l.songs,s=l.playState,u=(l.toggle,l.repeatType,l.page);return o.a.createElement(o.a.Fragment,null,o.a.createElement(an,{playState:s,addToHomeScreenUIVisible:r,playingSong:c[s.songId],openSnackbar:function(){return e.setState({snackBarOpen:!0})},onSearch:function(n){return e.handleSearch(n)}}),o.a.createElement("audio",{hidden:!0,controls:!0,onEnded:this.songEnded,onTimeUpdate:this.updateTime,ref:function(n){e.audioPlayer=n}},o.a.createElement("track",Object.assign({kind:"captions"},{}))),this.renderMain(u),o.a.createElement(E.a,{open:t,autoHideDuration:6e3,onClose:this.handleRequestClose,ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",{id:"message-id"},a||"Not Implemented yet \ud83d\ude0a"),action:!i&&o.a.createElement(b.a,{key:"undo",color:"secondary",size:"small",onClick:this.handleActionClick},"MAKE A PR")}))}}]),n}(r.Component),Tn=Object(c.b)(function(e){return{searchResult:e.searchResult,page:e.page,songs:e.songs,playState:e.playState,repeatType:e.common.repeat}},function(e){return{toggle:function(){return e(C())},playSong:function(n){return e(N(n))},searchSong:function(n){return e(function(e){return function(n,t){return fetch("https://cors-anywhere.herokuapp.com/https://api.muxiv.com/search?keywords=".concat(e,"&offset=0&limit=20&type=1&lang=en")).then(function(e){return e.json()}).then(function(e){return n(function(e){return{type:"RECEIVE_SEARCH_RESULT",songs:e.result.songs}}(e))})}}(n))}}})(jn),Rn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function An(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var In={playing:!1,songId:-1},Nn=t(83),Cn={sidebarOpen:!1,repeat:0},xn=Object(s.c)({searchResult:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"RECEIVE_SEARCH_RESULT":return Object(L.a)(n.songs);default:return e}},songs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_SONGS":return[].concat(Object(L.a)(e),Object(L.a)(n.songs));case"REMOVE_SONGS":return e.filter(function(e,t){return t!==n.id});default:return e}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"TOGGLE_SIDEBAR":return Object(Nn.a)({},e,{sidebarOpen:!e.sidebarOpen});case"REPEAT":return Object(Nn.a)({},e,{repeat:n.id});default:return e}},playState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"PLAY_SONG":return{playing:!0,songId:n.id};case"TOGGLE_PLAYING":return Object.assign({},e,{playing:!e.playing});default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;switch((arguments.length>1?arguments[1]:void 0).type){case j:return j;case"HOME_PAGE":return"HOME_PAGE";case P:return P;case R:return R;case T:return T;default:return e}}}),Ln=function(e){return function(n){return function(t){console.group(t.type),console.info("PREVIOUS STATE",e.getState());var a=n(t);return console.log("ACTION",t),console.log("NEXT STATE",e.getState()),console.groupEnd(),a}}},Dn=t(84),Gn=t(85),Mn=Object(u.createMuiTheme)({palette:{primary:d.a}});Gn.a;Dn.getItem("state").then(function(e){if(null!==e)return e}).then(function(e){var n;n=Object(s.d)(xn,e,Object(s.a)(Ln,Gn.a)),O(n),n.subscribe(function(){var e;e={songs:n.getState().songs},Dn.setItem("state",e)}),l.a.render(o.a.createElement(c.a,{store:n},o.a.createElement(u.MuiThemeProvider,{theme:Mn},o.a.createElement(Tn,null))),document.getElementById("root"))}),function(){if("serviceWorker"in navigator){if(new URL("/react-music-player",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/react-music-player","/service-worker.js");Rn?function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):An(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):An(e)})}}()}},[[140,1,2]]]);
//# sourceMappingURL=main.9efc38fa.chunk.js.map